% Century Schoolbook-like font
\usepackage{newcent}

% Colors and page background
\usepackage{xcolor}
\definecolor{forrtbg}{HTML}{FEFDF6}
\definecolor{FORRTblue}{HTML}{2C3E50}
\pagecolor{forrtbg}

% Section heading colors
\addtokomafont{section}{\color{FORRTblue}}
\addtokomafont{subsection}{\color{FORRTblue}}

% Safe link color configuration
\AtBeginDocument{
  \hypersetup{
    colorlinks=true,
    linkcolor=FORRTblue,
    urlcolor=FORRTblue,
    citecolor=FORRTblue
  }
}

% Line spacing for better readability
\usepackage{setspace}
\setstretch{1.5} % Slightly more space between lines; adjust as needed

% Reduce font size for all tables in PDF
\usepackage{etoolbox}
\AtBeginEnvironment{longtable}{\small}
\AtBeginEnvironment{tabular}{\small}

% Avoid duplicate title page in PDF output
\makeatletter
\renewcommand{\maketitle}{} % disable auto title page
\makeatother

% Stop Pandoc/Quarto from emitting an empty titlepage
\makeatletter
\renewenvironment{titlepage}{}{} % no page, no clearpage
\makeatother

% Belt-and-braces: prevent forced blank recto pages
\makeatletter
\let\cleardoublepage\clearpage
\makeatother

% Keep ToC spacing independent of global parskip/line spacing
\usepackage{etoolbox}
\makeatletter
\pretocmd{\tableofcontents}{%
  \begingroup
  \setlength{\parskip}{0pt}% no paragraph glue in ToC
  \setlength{\parindent}{0pt}%
  \begingroup\setstretch{1}\selectfont % undo global 1.5x linespread
}{}{}
\apptocmd{\tableofcontents}{\par\endgroup\endgroup}{}{}
% Do the same for lists of figures/tables (optional)
\pretocmd{\listoffigures}{\begingroup\setlength{\parskip}{0pt}\setlength{\parindent}{0pt}\begingroup\setstretch{1}\selectfont}{}{}
\apptocmd{\listoffigures}{\par\endgroup\endgroup}{}{}
\pretocmd{\listoftables}{\begingroup\setlength{\parskip}{0pt}\setlength{\parindent}{0pt}\begingroup\setstretch{1}\selectfont}{}{}
\apptocmd{\listoftables}{\par\endgroup\endgroup}{}{}
\makeatother

% Optional: avoid page stretching in lists
\raggedbottom